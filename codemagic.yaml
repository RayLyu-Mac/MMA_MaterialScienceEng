# Automatically generated on 2021-08-27 UTC from https://codemagic.io/app/60e05f2519e6aaa63e4bfa9a/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        APP_STORE_CONNECT_ISSUER_ID: 6c07076c-aac2-4830-b38a-0be127e029dd
        APP_STORE_CONNECT_KEY_IDENTIFIER: 5B3RGV345J
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmhLUmtvZ2hBWVAyUTRNZ2hzMlk2TmV4azRkaEN3Vzczc0lkNURGWmdnMnlRVXBTLTZ6VHBxNFNsTTJ4UzFCaXdFVzg2STVvR3B5dm1PbjRhUHhMc1MyZWpKSDBsZDVaSkUxVHhwenZ5WWZod3g5OVBkUDlZRVROeGRVZklwTlYwUFRWb3NqV003dnB0Z2ZHd0hIdmxjNWtoT2FyQjExOE1BaEdZZFQySy1sakZWMW9yZ1FRTjZJNHBYY0tVcV9aMEY3NjFNUjlkeUh0bXh0a01FX1B6dzc4VjZsSmhyM3JNSHJyUFA0aXZSWXNnelFzdFlvR25wY2FjLXgtdGh2OWZ1eExxN2pMOFRQaU5zU2YtNVhRRlk1dHZHOGJRX3JCYjlRZDJkdlZ1azdTNEhIckF4QnNpS3RyU3FlWGRibXA3Q3BGcnJQYWRXd3lTaXBFN3dBeTJHUl9WVjRGSVFPSXJwMDRoUWNwZ1ZJY2RyRy1Ha1dBcURucTFaU0lSclVYaE1scjVuMW9zaUZqVkVMNVN2X2xtTlU4V2t4cEFjRjFHeV9YdUhybHpXVExzNFhaST0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmhLUmtvcDJxWDJQamFqNVJySFloTGtKVW9BVnRGWkhOU0xRNFZtTVJYd08wamtWVGVtOGZTakNjLWlUZUxhdHVBbDluVThtckdQcGV4STV6aFZDM0RGWklhelpGNXdlcWI3X1VIQkdRRnJPcmNLYllkTC1YdFU0a3NUTkNvcTFIcW9oXzRBOE5pXzJWSXMwMVFOSWlCN2l0c2lHZHlUZzdaSkdQNHRJalBTMmtyeDZNN0llc3lXM25tTzdUTDJQY0MzcDFYNUtiWVRWRHNndnh2YVlyaWJFX3phM0pZS2pKaE5JZkdaN1Uwem9LeFVFcHQ4UG56Wks1Q0tGQ0lPTWJFN1l0VVJUSjYwUFFIaDRGbHYtbXhMR0pDUk5fV0pxZzJwVlpxNk85N1JsWHZ6eHpxTG1jS2RHbGpxLThTN2ZoT1ZfV1Fxay05MlhyaFBrdFZCekhVbDc3VVRJdWhKQmhySlBhRVEtQzRBZG92QWNxak5ZUmJXcnFLS3B2Y1RtM3czSEFRbkZYMEVDRDdPU1VLa0tsNENPeGFmWThfUnJCY0swa2dOUDZWX2hrQWFFU29tTk5hS0daUmVuUXpkZjV5SkUzUkNIX2tvbHJzMllpdEIzZEw0ZWVXYWkwZEVWOXg2bTVwZmRkSEMwWGtQR1FPOU9IU3pYRWJ4SXl2WFpCbllYLW8zNkh4REZRVTVOY1JRNFozb0NDVzZrVjBkQW9qbG5weVNhMVUyQ1BvRlNHRHpXOXQ5SEZJZ3FiUzI1bDZ0VUZoU3dHbnNYMHRHTm5CV0FUT0ZUc0ZxS09mSktxMkFLenNOdjBPdWxqWFg4bUJOQmd2T1RBZGtOYy1ZMFIzMXFRMVBVemMyaThqQUVkVW5vcU9OU0hmZ2d1VmY2ZGI5UTgtZDdsenJpckNJY3NFNVRVRmxGZUs3MUI3MVlKYVNlV01QQzBJZGl6djhvRGY0OWt5Unh0NjFWRFBLUTVKZDdmSU12N0Q3dnJaS0JHOERnd0FhNk9ycXN4bjZYeEpIT0wxVkZYRzk5MTdxRU1JYTBJaXF0NEk2a3Q3djRRYTVZY0VmQVBQcE5yYXlTeW9yLTdZcl8wcW9BZUpWc0x0YW9sOEtsaG1qSnJFQ2lfaUhQSU1kd05faTc3ZVdrRVJ5RzhEXzNNQXpPTW9NdGt6aXZTMEVOX0JfSmF5cWR4Y2NISVRxQy1oUkl2VUZIb2dGUjJPWTRJRWRvRkNhODVHY2tqeHVoaU5SazF1Y3JoT2hkV3pUTGIwZldwYXZUWlVsY2plYnhHd3J1YTVCd3pBTkdZTlpjUXBORW10WWFaOHhpVl9FUUtSR1RpdmlGdzFsb3dXNHRwZzhSWUM1UlppNXRUNWg5WmF2ZmxhMzluZVUzbkNFR3JPQ3p4b3ppbGpBeTJ5SFY5cTdGZFJ0Um9HdDkxZHd6S2o5aHlwbUlTUE9weFd2OW5mYjJmblFmUHpCVFdBT2pFN3pxb0FJQzVYbl9jMXZrbG1hek13czRWb3Q2UUt3UXhVSkFxRmx0MmZINFNUOVlRRzZlMVZkWUtRRlBOZ05UQmJlUWlkWl80UXJvMm0zM1F0dWg3S1ZwN3hwa1ZJRDZyUUp0aVg4RHM1WmdqM1hnZE41eEt5alo1YllHOGFPWVhISGE1RDFwQWh4SGItdm5DLTBkM3VsNFJRRXEwRjFSLWFjYnFadS13OXdOT2hzaWE3SkMyVXlKTFYxYy0xRDV2RDFKcExXNmYxRjMwcGxQZzkzOXoyM2NKN3J3RXpJNDJLalFqS3lJc0V5eXVFMlRlN0ZFWFRrOVhXN25CekloTUVHc1JWdVVybEpPZDJkWmI0TzVyZ0dEOWlaMTVmRHFiQXRoMTNORFB6TUs2Unk5bjk1UVlhcTZLSXlPNlM3U0w0NXh4TkNybjBmQ2w4aWZDNk9sMFhuTTZSQVVwaDdOZVZ4dFRKeDFzeU1kMzlnR0FEWDRCWkdiTXdzdWItbmtXSDNJbmNQMlNZUGpJcmpkVTNhNnc4T3c4aHZTWGNSVVFqeGx0NDJzRi1wNW1LTzByWWdwWnRMT2dFdk5BNW51Rk1adkxXekNGVWdlSzZmSFJXaDRKekhrS2V2cjh3Yk9yV3JvZDZZVUhpRjB0eVNuOGdSMm5CVmYwZWo3NEFuTmZpMTB6MUVmUHk0UF91Y0o0dzJhV1J4Z25jR0dkZ0IyOExEVE9IeVFwR0xSWllUanpUUU9tOUtYMEdBSjBsbkpwSm9UTDFJSTkzVkVocVZGU3dMTTJFT1NVYUV5a2dNeHZKVHNTTGZCQWdlbWF6NVFjak1VZmo2Y3BLN0Ftck03aDFiSUlLaDh0dUthNXpDS0MwamNfc2dWb19PbWppTHNJRy1UU25Ra1FPeFd4Y2ZNems2RW85c0ZfOExkOU1kbWZveEotZ3FCbm1QWVBzNEFCQ3h5MzJJUVNkcDhRMnlycWplNk9EMGh1cFUwVUtGbENITFBaUlgxci1JZThRUEJ0MjVjMkF2cjNFTndqV2tENnM1aUZ2dklkOGs2RWdDaGhKX1I4ZGtEelFYMTNNV25LWERfT2dpaHNsQllYRFctcVExTXBGRW1rU2dzSTNweklyMVVHcTE2SWF1Z3RZWllhLUV5YlpyN0U2aXBlYWtZb2Vaa3UxZ1NrdmdXekdjdUwzR0h4dnc3MnE0ZjRacURpRkYxX1FXc1pkM0pXaGZiV2hYd0JfRnh5LTgwc0FneUFNdUhzcFhnQmpaa1lRVVNRSGMxNkQyQkhqWkVqdlYwcUZ0TllYRDZMbHVFSTRZU2Y2RU5HbHJubVVsSjF2S0xlQWFDZS01M3lfWTFWclltX0pZcnhGRkxNMENsSUplekRjTGViV1dEZUhCbkVDLUlMQjR6ZUEycm5kald0R2U1UUR1YmhPZ3YtajBaWjlZVlhQcGFPc1Q0WTRWck1rRHFtU3E1OTRHeFVlODE2OXZRUkhaTjV3TjdZNWNnaWpLY3JjbDZzUXR2SHZ5MUNsTk1IVHFxQ2hWaEVteHcwRzZxd1paMzhJR2g2NlM0MldqYVFCUUhnZ1BrNlNNenlW)
      flutter: stable
      xcode: 15.0
      cocoapods: default
    scripts:
      - flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "com.mcmaster.mmamse" --type IOS_APP_STORE
        --create
      - keychain add-certificates
      - xcode-project use-profiles
      - flutter build ipa --export-options-plist=/Users/builder/export_options.plist
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
        app_store_connect:                  # For iOS or macOS app
          api_key: $APP_STORE_CONNECT_PRIVATE_KEY          # Contents of the API key, can also reference environment variable such as $APP_STORE_CONNECT_PRIVATE_KEY
          key_id: 5B3RGV345J                # Alphanumeric value that identifies the API key, can also reference environment variable such as $APP_STORE_CONNECT_KEY_IDENTIFIER
          issuer_id: 6c07076c-aac2-4830-b38a-0be127e029dd      # Alphanumeric value that identifies who created the API key, can also reference environment variable such as $APP_STORE_CONNECT_ISSUER_ID
          submit_to_testflight: true     
